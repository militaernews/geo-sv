import{A as R,B as N,D as g,E as L,j as T,F as y,l as S,p as B,G as U,I as Y,k as F,J as k,K as C,L as K,M as $,N as G,o as Z,s as I,O as j,P as q,Q as O,R as z,S as D,g as p,T as H,U as J,V as Q,W as V,X as W,Y as X,Z as ee,_ as se,a0 as re,a1 as te,a2 as ae,a3 as ne,f as ie,b as fe,a4 as ue,a5 as ce,a6 as oe}from"./VDRBsEt7.js";import{s as de,g as le}from"./MOsQwgUq.js";class _e{anchor;#s=new Map;#r=new Map;#e=new Map;#t=!0;constructor(e,t=!0){this.anchor=e,this.#t=t}#a=()=>{var e=R;if(this.#s.has(e)){var t=this.#s.get(e),r=this.#r.get(t);if(r)N(r);else{var a=this.#e.get(t);a&&(this.#r.set(t,a.effect),this.#e.delete(t),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[n,f]of this.#s){if(this.#s.delete(n),n===e)break;const i=this.#e.get(f);i&&(g(i.effect),this.#e.delete(f))}for(const[n,f]of this.#r){if(n===t)continue;const i=()=>{if(Array.from(this.#s.values()).includes(n)){var o=document.createDocumentFragment();U(f,o),o.append(T()),this.#e.set(n,{effect:f,fragment:o})}else g(f);this.#r.delete(n)};this.#t||!r?L(f,i,!1):i()}}};#n=e=>{this.#s.delete(e);const t=Array.from(this.#s.values());for(const[r,a]of this.#e)t.includes(r)||(g(a.effect),this.#e.delete(r))};ensure(e,t){var r=R,a=Y();if(t&&!this.#r.has(e)&&!this.#e.has(e))if(a){var n=document.createDocumentFragment(),f=T();n.append(f),this.#e.set(e,{effect:y(()=>t(f)),fragment:n})}else this.#r.set(e,y(()=>t(this.anchor)));if(this.#s.set(r,e),a){for(const[i,u]of this.#r)i===e?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[i,u]of this.#e)i===e?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(this.#a),r.ondiscard(this.#n)}else S&&(this.anchor=B),this.#a()}}function me(s,e,t=!1){S&&k();var r=new _e(s),a=t?C:0;function n(f,i){if(S){const o=K(s)===$;if(f===o){var u=G();Z(u),r.anchor=u,I(!1),r.ensure(f,i),I(!0);return}}r.ensure(f,i)}F(()=>{var f=!1;e((i,u=!0)=>{f=!0,n(u,i)}),f||n(!1,null)},a)}let b=!1,P=Symbol();function ge(s,e,t){const r=t[e]??={store:null,source:z(void 0),unsubscribe:O};if(r.store!==s&&!(P in t))if(r.unsubscribe(),r.store=s??null,s==null)r.source.v=void 0,r.unsubscribe=O;else{var a=!0;r.unsubscribe=de(s,n=>{a?r.source.v=n:D(r.source,n)}),a=!1}return s&&P in t?le(s):p(r.source)}function Se(){const s={};function e(){j(()=>{for(var t in s)s[t].unsubscribe();q(s,P,{enumerable:!1,value:!0})})}return[s,e]}function he(s){var e=b;try{return b=!1,[s(),b]}finally{b=e}}const ve={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Pe(s,e,t){return new Proxy({props:s,exclude:e},ve)}function Ee(s,e,t,r){var a=!ee||(t&se)!==0,n=(t&re)!==0,f=(t&oe)!==0,i=r,u=!0,o=()=>(u&&(u=!1,i=f?fe(r):r),i),l;if(n){var w=ae in s||ne in s;l=H(s,e)?.set??(w&&e in s?c=>s[e]=c:void 0)}var _,E=!1;n?[_,E]=he(()=>s[e]):_=s[e],_===void 0&&r!==void 0&&(_=o(),l&&(a&&ue(),l(_)));var d;if(a?d=()=>{var c=s[e];return c===void 0?o():(u=!0,c)}:d=()=>{var c=s[e];return c!==void 0&&(i=void 0),c===void 0?i:c},a&&(t&J)===0)return d;if(l){var x=s.$$legacy;return function(c,v){return arguments.length>0?((!a||!v||x||E)&&l(v?d():c),c):d()}}var m=!1,h=((t&ce)!==0?ie:X)(()=>(m=!1,d()));n&&p(h);var M=V;return function(c,v){if(arguments.length>0){const A=v?p(h):a&&n?Q(c):c;return D(h,A),m=!0,i!==void 0&&(i=A),c}return te&&m||(M.f&W)!==0?h.v:p(h)}}export{_e as B,ge as a,me as i,Ee as p,Pe as r,Se as s};
